{"version":3,"sources":["../../shared/login.js","logo.svg","App.js","index.js"],"names":["storageKey","setToken","token","length","window","localStorage","setItem","removeItem","module","exports","clearToken","getToken","getItem","App","Component","state","response","componentWillMount","fetch","headers","Authorization","then","json","myJson","this","setState","catch","err","message","render","className","src","logo","alt","href","JSON","stringify","ReactDOM","document","getElementById"],"mappings":"mFAQA,IAAMA,EAAa,UAEnB,SAASC,EAASC,GACZA,GAASA,EAAMC,OAAS,EAC1BC,OAAOC,aAAaC,QAAQN,EAAYE,GAExCE,OAAOC,aAAaE,WAAWP,GAYnCQ,EAAOC,QAAU,CACfT,WAAYA,EACZC,SAAUA,EACVS,WAXF,WACET,EAAS,OAWTU,SARF,WACE,OAAOP,OAAOC,aAAaO,QAAQZ,M,+GCvBtB,G,MAAA,IAA0B,kC,eCMzC,MAAMa,UAAYC,YAAW,eAAD,oBAC1BC,MAAQ,CACNC,SAAU,MAGZC,qBACEC,MAAM,oBAAqB,CACzBC,QAAS,CACPC,cAAc,UAAD,OAAYT,yBAG1BU,MAAKL,GAAYA,EAASM,SAC1BD,MAAKE,IACJC,KAAKC,SAAS,CAAET,SAAUO,OAE3BG,OAAMC,IACLH,KAAKC,SAAS,CAAET,SAAUW,EAAIC,aAIpCC,SAAU,IACAb,EAAaQ,KAAKT,MAAlBC,SACR,OACE,sBAAKc,UAAU,MAAf,UACE,yBAAQA,UAAU,aAAlB,UACE,qBAAKC,IAAKC,EAAMF,UAAU,WAAWG,IAAI,SACzC,oBAAIH,UAAU,YAAd,iCAEF,oBAAGA,UAAU,YAAb,uBAEE,+BACE,6BACE,mBAAGI,KAAM,sBAAT,sBAEF,6BACE,mBAAGA,KAAM,sBAAT,4BAIN,+CACClB,EACC,qBAAKc,UAAU,OAAf,SAAuBK,KAAKC,UAAUpB,KAEtC,sBAOKH,QCnDfwB,IAASR,OAAO,cAAC,EAAD,IAASS,SAASC,eAAe,W","file":"static/js/main.7c653cdd.chunk.js","sourcesContent":["/*\n  1) In docker swarm the src folder of client-auth is missing - can't find why - and this file is required by server app\n  2) CRA does not handle symlinks well (see https://github.com/moxystudio/react-with-moxy/issues/111) so contents of this\n  file have to be in ES5 (http://bit.ly/2tRViJ9)\n */\n/* global window */\n/* eslint-disable object-shorthand */\n\nconst storageKey = \"__token\";\n\nfunction setToken(token) {\n  if (token && token.length > 0) {\n    window.localStorage.setItem(storageKey, token);\n  } else {\n    window.localStorage.removeItem(storageKey);\n  }\n}\n\nfunction clearToken() {\n  setToken(null);\n}\n\nfunction getToken() {\n  return window.localStorage.getItem(storageKey);\n}\n\nmodule.exports = {\n  storageKey: storageKey,\n  setToken: setToken,\n  clearToken: clearToken,\n  getToken: getToken,\n};\n","export default __webpack_public_path__ + \"static/media/logo.103b5fa1.svg\";","import React, { Component } from \"react\";\nimport logo from \"./logo.svg\";\nimport \"./App.css\";\n\nimport { getToken } from \"./shared/login\";\n\nclass App extends Component {\n  state = {\n    response: null\n  };\n\n  componentWillMount() {\n    fetch(\"/api/v1/auth/test\", {\n      headers: {\n        Authorization: `Bearer ${getToken()}`\n      }\n    })\n      .then(response => response.json())\n      .then(myJson => {\n        this.setState({ response: myJson });\n      })\n      .catch(err => {\n        this.setState({ response: err.message });\n      });\n  }\n\n  render() {\n    const { response } = this.state;\n    return (\n      <div className=\"App\">\n        <header className=\"App-header\">\n          <img src={logo} className=\"App-logo\" alt=\"logo\" />\n          <h1 className=\"App-title\">Welcome to React</h1>\n        </header>\n        <p className=\"App-intro\">\n          Login via:\n          <ul>\n            <li>\n              <a href={\"/api/v1/auth/google\"}>Google</a>\n            </li>\n            <li>\n              <a href={\"/api/v1/auth/github\"}>Github</a>\n            </li>\n          </ul>\n        </p>\n        <h3>Test API call</h3>\n        {response ? (\n          <div className=\"test\">{JSON.stringify(response)}</div>\n        ) : (\n          \"... loading ...\"\n        )}\n      </div>\n    );\n  }\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\n\nReactDOM.render(<App />, document.getElementById(\"root\"));\n"],"sourceRoot":""}