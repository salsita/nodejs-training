{"version":3,"sources":["logo.svg","../../shared/login.js","App.js","index.js"],"names":["module","exports","__webpack_require__","p","storageKey","setToken","token","length","window","localStorage","setItem","removeItem","clearToken","getToken","getItem","App","state","response","_this2","this","fetch","headers","Authorization","concat","then","json","myJson","setState","catch","err","message","react_default","a","createElement","className","src","logo","alt","href","JSON","stringify","Component","ReactDOM","render","src_App_0","document","getElementById"],"mappings":"gFAAAA,EAAAC,QAAiBC,EAAAC,EAAuB,gDCSxC,IAAAC,EAAA,UAEA,SAAAC,EAAAC,GACAA,KAAAC,OAAA,EACAC,OAAAC,aAAAC,QAAAN,EAAAE,GAEAE,OAAAC,aAAAE,WAAAP,GAYAJ,EAAAC,QAAA,CACAG,aACAC,WACAO,WAXA,WACAP,EAAA,OAWAQ,SARA,WACA,OAAAL,OAAAC,aAAAK,QAAAV,sOCgCeW,6MAjDbC,MAAQ,CACNC,SAAU,0FAGS,IAAAC,EAAAC,KACnBC,MAAM,oBAAqB,CACzBC,QAAS,CACPC,cAAa,UAAAC,OAAYV,yBAG1BW,KAAK,SAAAP,GAAQ,OAAIA,EAASQ,SAC1BD,KAAK,SAAAE,GACJR,EAAKS,SAAS,CAAEV,SAAUS,MAE3BE,MAAM,SAAAC,GACLX,EAAKS,SAAS,CAAEV,SAAUY,EAAIC,6CAI3B,IACCb,EAAaE,KAAKH,MAAlBC,SACR,OACEc,EAAAC,EAAAC,cAAA,OAAKC,UAAU,OACbH,EAAAC,EAAAC,cAAA,UAAQC,UAAU,cAChBH,EAAAC,EAAAC,cAAA,OAAKE,IAAKC,IAAMF,UAAU,WAAWG,IAAI,SACzCN,EAAAC,EAAAC,cAAA,MAAIC,UAAU,aAAd,qBAEFH,EAAAC,EAAAC,cAAA,KAAGC,UAAU,aAAb,aAEEH,EAAAC,EAAAC,cAAA,UACEF,EAAAC,EAAAC,cAAA,UACEF,EAAAC,EAAAC,cAAA,KAAGK,KAAM,uBAAT,WAEFP,EAAAC,EAAAC,cAAA,UACEF,EAAAC,EAAAC,cAAA,KAAGK,KAAM,uBAAT,aAINP,EAAAC,EAAAC,cAAA,2BACChB,EACCc,EAAAC,EAAAC,cAAA,OAAKC,UAAU,QAAQK,KAAKC,UAAUvB,IAEtC,0BA3CQwB,aCDlBC,IAASC,OAAOZ,EAAAC,EAAAC,cAACW,EAAD,MAASC,SAASC,eAAe","file":"static/js/main.dcee724c.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/logo.5d5d9eef.svg\";","/*\n  1) In docker swarm the src folder of client-auth is missing - can't find why - and this file is required by server app\n  2) CRA does not handle symlinks well (see https://github.com/moxystudio/react-with-moxy/issues/111) so contents of this\n  file have to be in ES5 (http://bit.ly/2tRViJ9)\n */\n\n/* global window */\n\n/* eslint-disable object-shorthand */\nvar storageKey = \"__token\";\n\nfunction setToken(token) {\n  if (token && token.length > 0) {\n    window.localStorage.setItem(storageKey, token);\n  } else {\n    window.localStorage.removeItem(storageKey);\n  }\n}\n\nfunction clearToken() {\n  setToken(null);\n}\n\nfunction getToken() {\n  return window.localStorage.getItem(storageKey);\n}\n\nmodule.exports = {\n  storageKey: storageKey,\n  setToken: setToken,\n  clearToken: clearToken,\n  getToken: getToken\n};","import React, { Component } from \"react\";\nimport logo from \"./logo.svg\";\nimport \"./App.css\";\n\nimport { getToken } from \"./shared/login\";\n\nclass App extends Component {\n  state = {\n    response: null\n  };\n\n  componentWillMount() {\n    fetch(\"/api/v1/auth/test\", {\n      headers: {\n        Authorization: `Bearer ${getToken()}`\n      }\n    })\n      .then(response => response.json())\n      .then(myJson => {\n        this.setState({ response: myJson });\n      })\n      .catch(err => {\n        this.setState({ response: err.message });\n      });\n  }\n\n  render() {\n    const { response } = this.state;\n    return (\n      <div className=\"App\">\n        <header className=\"App-header\">\n          <img src={logo} className=\"App-logo\" alt=\"logo\" />\n          <h1 className=\"App-title\">Welcome to React</h1>\n        </header>\n        <p className=\"App-intro\">\n          Login via:\n          <ul>\n            <li>\n              <a href={\"/api/v1/auth/google\"}>Google</a>\n            </li>\n            <li>\n              <a href={\"/api/v1/auth/github\"}>Github</a>\n            </li>\n          </ul>\n        </p>\n        <h3>Test API call</h3>\n        {response ? (\n          <div className=\"test\">{JSON.stringify(response)}</div>\n        ) : (\n          \"... loading ...\"\n        )}\n      </div>\n    );\n  }\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\n\nReactDOM.render(<App />, document.getElementById(\"root\"));\n"],"sourceRoot":""}